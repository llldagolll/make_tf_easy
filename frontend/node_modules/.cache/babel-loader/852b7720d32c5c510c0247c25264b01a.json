{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { exhaustiveCheck, isAWSDate, isAWSTime, isAWSDateTime, isAWSTimestamp, isAWSEmail, isAWSJSON, isAWSURL, isAWSPhone, isAWSIPAddress } from './util';\nexport function isSchemaModel(obj) {\n  return obj && obj.pluralName !== undefined;\n}\nexport function isAssociatedWith(obj) {\n  return obj && obj.associatedWith;\n}\nexport function isTargetNameAssociation(obj) {\n  return obj && obj.targetName;\n}\nexport function isModelAttributeAuth(attr) {\n  return attr.type === 'auth' && attr.properties && attr.properties.rules && attr.properties.rules.length > 0;\n}\nexport function isModelAttributeKey(attr) {\n  return attr.type === 'key' && attr.properties && attr.properties.fields && attr.properties.fields.length > 0;\n}\nexport function isModelAttributePrimaryKey(attr) {\n  return isModelAttributeKey(attr) && attr.properties.name === undefined;\n}\nexport function isModelAttributeCompositeKey(attr) {\n  return isModelAttributeKey(attr) && attr.properties.name !== undefined && attr.properties.fields.length > 2;\n}\nexport var ModelAttributeAuthAllow;\n\n(function (ModelAttributeAuthAllow) {\n  ModelAttributeAuthAllow[\"CUSTOM\"] = \"custom\";\n  ModelAttributeAuthAllow[\"OWNER\"] = \"owner\";\n  ModelAttributeAuthAllow[\"GROUPS\"] = \"groups\";\n  ModelAttributeAuthAllow[\"PRIVATE\"] = \"private\";\n  ModelAttributeAuthAllow[\"PUBLIC\"] = \"public\";\n})(ModelAttributeAuthAllow || (ModelAttributeAuthAllow = {}));\n\nexport var ModelAttributeAuthProvider;\n\n(function (ModelAttributeAuthProvider) {\n  ModelAttributeAuthProvider[\"FUNCTION\"] = \"function\";\n  ModelAttributeAuthProvider[\"USER_POOLS\"] = \"userPools\";\n  ModelAttributeAuthProvider[\"OIDC\"] = \"oidc\";\n  ModelAttributeAuthProvider[\"IAM\"] = \"iam\";\n  ModelAttributeAuthProvider[\"API_KEY\"] = \"apiKey\";\n})(ModelAttributeAuthProvider || (ModelAttributeAuthProvider = {}));\n\nexport var GraphQLScalarType;\n\n(function (GraphQLScalarType) {\n  GraphQLScalarType[GraphQLScalarType[\"ID\"] = 0] = \"ID\";\n  GraphQLScalarType[GraphQLScalarType[\"String\"] = 1] = \"String\";\n  GraphQLScalarType[GraphQLScalarType[\"Int\"] = 2] = \"Int\";\n  GraphQLScalarType[GraphQLScalarType[\"Float\"] = 3] = \"Float\";\n  GraphQLScalarType[GraphQLScalarType[\"Boolean\"] = 4] = \"Boolean\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSDate\"] = 5] = \"AWSDate\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSTime\"] = 6] = \"AWSTime\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSDateTime\"] = 7] = \"AWSDateTime\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSTimestamp\"] = 8] = \"AWSTimestamp\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSEmail\"] = 9] = \"AWSEmail\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSJSON\"] = 10] = \"AWSJSON\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSURL\"] = 11] = \"AWSURL\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSPhone\"] = 12] = \"AWSPhone\";\n  GraphQLScalarType[GraphQLScalarType[\"AWSIPAddress\"] = 13] = \"AWSIPAddress\";\n})(GraphQLScalarType || (GraphQLScalarType = {}));\n\n(function (GraphQLScalarType) {\n  function getJSType(scalar) {\n    switch (scalar) {\n      case 'Boolean':\n        return 'boolean';\n\n      case 'ID':\n      case 'String':\n      case 'AWSDate':\n      case 'AWSTime':\n      case 'AWSDateTime':\n      case 'AWSEmail':\n      case 'AWSURL':\n      case 'AWSPhone':\n      case 'AWSIPAddress':\n        return 'string';\n\n      case 'Int':\n      case 'Float':\n      case 'AWSTimestamp':\n        return 'number';\n\n      case 'AWSJSON':\n        return 'object';\n\n      default:\n        exhaustiveCheck(scalar);\n    }\n  }\n\n  GraphQLScalarType.getJSType = getJSType;\n\n  function getValidationFunction(scalar) {\n    switch (scalar) {\n      case 'AWSDate':\n        return isAWSDate;\n\n      case 'AWSTime':\n        return isAWSTime;\n\n      case 'AWSDateTime':\n        return isAWSDateTime;\n\n      case 'AWSTimestamp':\n        return isAWSTimestamp;\n\n      case 'AWSEmail':\n        return isAWSEmail;\n\n      case 'AWSJSON':\n        return isAWSJSON;\n\n      case 'AWSURL':\n        return isAWSURL;\n\n      case 'AWSPhone':\n        return isAWSPhone;\n\n      case 'AWSIPAddress':\n        return isAWSIPAddress;\n\n      default:\n        return undefined;\n    }\n  }\n\n  GraphQLScalarType.getValidationFunction = getValidationFunction;\n})(GraphQLScalarType || (GraphQLScalarType = {}));\n\nexport function isGraphQLScalarType(obj) {\n  return obj && GraphQLScalarType[obj] !== undefined;\n}\nexport function isModelFieldType(obj) {\n  var modelField = 'model';\n  if (obj && obj[modelField]) return true;\n  return false;\n}\nexport function isNonModelFieldType(obj) {\n  var typeField = 'nonModel';\n  if (obj && obj[typeField]) return true;\n  return false;\n}\nexport function isEnumFieldType(obj) {\n  var modelField = 'enum';\n  if (obj && obj[modelField]) return true;\n  return false;\n} //#endregion\n//#region Subscription messages\n\nexport var OpType;\n\n(function (OpType) {\n  OpType[\"INSERT\"] = \"INSERT\";\n  OpType[\"UPDATE\"] = \"UPDATE\";\n  OpType[\"DELETE\"] = \"DELETE\";\n})(OpType || (OpType = {}));\n\nexport function isPredicateObj(obj) {\n  return obj && obj.field !== undefined;\n}\nexport function isPredicateGroup(obj) {\n  return obj && obj.type !== undefined;\n}\nexport var QueryOne;\n\n(function (QueryOne) {\n  QueryOne[QueryOne[\"FIRST\"] = 0] = \"FIRST\";\n  QueryOne[QueryOne[\"LAST\"] = 1] = \"LAST\";\n})(QueryOne || (QueryOne = {}));\n\nexport var SortDirection;\n\n(function (SortDirection) {\n  SortDirection[\"ASCENDING\"] = \"ASCENDING\";\n  SortDirection[\"DESCENDING\"] = \"DESCENDING\";\n})(SortDirection || (SortDirection = {}));\n\nexport var AuthModeStrategyType;\n\n(function (AuthModeStrategyType) {\n  AuthModeStrategyType[\"DEFAULT\"] = \"DEFAULT\";\n  AuthModeStrategyType[\"MULTI_AUTH\"] = \"MULTI_AUTH\";\n})(AuthModeStrategyType || (AuthModeStrategyType = {}));\n\nexport var ModelOperation;\n\n(function (ModelOperation) {\n  ModelOperation[\"CREATE\"] = \"CREATE\";\n  ModelOperation[\"READ\"] = \"READ\";\n  ModelOperation[\"UPDATE\"] = \"UPDATE\";\n  ModelOperation[\"DELETE\"] = \"DELETE\";\n})(ModelOperation || (ModelOperation = {}));\n\nexport function syncExpression(modelConstructor, conditionProducer) {\n  return __awaiter(this, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      return [2\n      /*return*/\n      , {\n        modelConstructor: modelConstructor,\n        conditionProducer: conditionProducer\n      }];\n    });\n  });\n}\nexport var DISCARD = Symbol('DISCARD');\nexport var LimitTimerRaceResolvedValues;\n\n(function (LimitTimerRaceResolvedValues) {\n  LimitTimerRaceResolvedValues[\"LIMIT\"] = \"LIMIT\";\n  LimitTimerRaceResolvedValues[\"TIMER\"] = \"TIMER\";\n})(LimitTimerRaceResolvedValues || (LimitTimerRaceResolvedValues = {})); //#endregion","map":{"version":3,"sources":["C:\\Users\\owner\\prog\\make_tf_easy\\frontend\\node_modules\\@aws-amplify\\datastore\\src\\types.ts"],"names":[],"mappings":"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","sourcesContent":["import { ModelInstanceCreator } from './datastore/datastore';\nimport {\n\texhaustiveCheck,\n\tisAWSDate,\n\tisAWSTime,\n\tisAWSDateTime,\n\tisAWSTimestamp,\n\tisAWSEmail,\n\tisAWSJSON,\n\tisAWSURL,\n\tisAWSPhone,\n\tisAWSIPAddress,\n} from './util';\nimport { PredicateAll } from './predicates';\nimport { GRAPHQL_AUTH_MODE } from '@aws-amplify/api-graphql';\nimport { Adapter } from './storage/adapter';\n\n//#region Schema types\nexport type Schema = UserSchema & {\n\tversion: string;\n};\nexport type UserSchema = {\n\tmodels: SchemaModels;\n\tnonModels?: SchemaNonModels;\n\trelationships?: RelationshipType;\n\tkeys?: ModelKeys;\n\tenums: SchemaEnums;\n\tmodelTopologicalOrdering?: Map<string, string[]>;\n};\nexport type InternalSchema = {\n\tnamespaces: SchemaNamespaces;\n\tversion: string;\n};\nexport type SchemaNamespaces = Record<string, SchemaNamespace>;\nexport type SchemaNamespace = UserSchema & {\n\tname: string;\n};\nexport type SchemaModels = Record<string, SchemaModel>;\nexport type SchemaModel = {\n\tname: string;\n\tpluralName: string;\n\tattributes?: ModelAttributes;\n\tfields: ModelFields;\n\tsyncable?: boolean;\n};\nexport function isSchemaModel(obj: any): obj is SchemaModel {\n\treturn obj && (<SchemaModel>obj).pluralName !== undefined;\n}\nexport type SchemaNonModels = Record<string, SchemaNonModel>;\nexport type SchemaNonModel = {\n\tname: string;\n\tfields: ModelFields;\n};\ntype SchemaEnums = Record<string, SchemaEnum>;\ntype SchemaEnum = {\n\tname: string;\n\tvalues: string[];\n};\n\nexport type ModelAssociation = AssociatedWith | TargetNameAssociation;\ntype AssociatedWith = {\n\tconnectionType: 'HAS_MANY' | 'HAS_ONE';\n\tassociatedWith: string;\n\ttargetName?: string;\n};\nexport function isAssociatedWith(obj: any): obj is AssociatedWith {\n\treturn obj && obj.associatedWith;\n}\n\ntype TargetNameAssociation = {\n\tconnectionType: 'BELONGS_TO';\n\ttargetName: string;\n};\nexport function isTargetNameAssociation(\n\tobj: any\n): obj is TargetNameAssociation {\n\treturn obj && obj.targetName;\n}\n\nexport type ModelAttributes = ModelAttribute[];\ntype ModelAttribute = { type: string; properties?: Record<string, any> };\n\nexport type ModelAuthRule = {\n\tallow: string;\n\tprovider?: string;\n\toperations?: string[];\n\townerField?: string;\n\tidentityClaim?: string;\n\tgroups?: string[];\n\tgroupClaim?: string;\n\tgroupsField?: string;\n};\n\nexport type ModelAttributeAuth = {\n\ttype: 'auth';\n\tproperties: {\n\t\trules: ModelAuthRule[];\n\t};\n};\n\nexport function isModelAttributeAuth(\n\tattr: ModelAttribute\n): attr is ModelAttributeAuth {\n\treturn (\n\t\tattr.type === 'auth' &&\n\t\tattr.properties &&\n\t\tattr.properties.rules &&\n\t\tattr.properties.rules.length > 0\n\t);\n}\n\ntype ModelAttributeKey = {\n\ttype: 'key';\n\tproperties: {\n\t\tname?: string;\n\t\tfields: string[];\n\t};\n};\n\ntype ModelAttributePrimaryKey = {\n\ttype: 'key';\n\tproperties: {\n\t\tfields: string[];\n\t};\n};\n\ntype ModelAttributeCompositeKey = {\n\ttype: 'key';\n\tproperties: {\n\t\tname: string;\n\t\tfields: [string, string, string, string?, string?];\n\t};\n};\n\nexport function isModelAttributeKey(\n\tattr: ModelAttribute\n): attr is ModelAttributeKey {\n\treturn (\n\t\tattr.type === 'key' &&\n\t\tattr.properties &&\n\t\tattr.properties.fields &&\n\t\tattr.properties.fields.length > 0\n\t);\n}\n\nexport function isModelAttributePrimaryKey(\n\tattr: ModelAttribute\n): attr is ModelAttributePrimaryKey {\n\treturn isModelAttributeKey(attr) && attr.properties.name === undefined;\n}\n\nexport function isModelAttributeCompositeKey(\n\tattr: ModelAttribute\n): attr is ModelAttributeCompositeKey {\n\treturn (\n\t\tisModelAttributeKey(attr) &&\n\t\tattr.properties.name !== undefined &&\n\t\tattr.properties.fields.length > 2\n\t);\n}\n\nexport type ModelAttributeAuthProperty = {\n\tallow: ModelAttributeAuthAllow;\n\tidentityClaim?: string;\n\tgroupClaim?: string;\n\tgroups?: string[];\n\toperations?: string[];\n\townerField?: string;\n\tprovider?: ModelAttributeAuthProvider;\n};\n\nexport enum ModelAttributeAuthAllow {\n\tCUSTOM = 'custom',\n\tOWNER = 'owner',\n\tGROUPS = 'groups',\n\tPRIVATE = 'private',\n\tPUBLIC = 'public',\n}\n\nexport enum ModelAttributeAuthProvider {\n\tFUNCTION = 'function',\n\tUSER_POOLS = 'userPools',\n\tOIDC = 'oidc',\n\tIAM = 'iam',\n\tAPI_KEY = 'apiKey',\n}\n\nexport type ModelFields = Record<string, ModelField>;\nexport enum GraphQLScalarType {\n\tID,\n\tString,\n\tInt,\n\tFloat,\n\tBoolean,\n\tAWSDate,\n\tAWSTime,\n\tAWSDateTime,\n\tAWSTimestamp,\n\tAWSEmail,\n\tAWSJSON,\n\tAWSURL,\n\tAWSPhone,\n\tAWSIPAddress,\n}\n\nexport namespace GraphQLScalarType {\n\texport function getJSType(\n\t\tscalar: keyof Omit<\n\t\t\ttypeof GraphQLScalarType,\n\t\t\t'getJSType' | 'getValidationFunction'\n\t\t>\n\t): 'string' | 'number' | 'boolean' | 'object' {\n\t\tswitch (scalar) {\n\t\t\tcase 'Boolean':\n\t\t\t\treturn 'boolean';\n\t\t\tcase 'ID':\n\t\t\tcase 'String':\n\t\t\tcase 'AWSDate':\n\t\t\tcase 'AWSTime':\n\t\t\tcase 'AWSDateTime':\n\t\t\tcase 'AWSEmail':\n\t\t\tcase 'AWSURL':\n\t\t\tcase 'AWSPhone':\n\t\t\tcase 'AWSIPAddress':\n\t\t\t\treturn 'string';\n\t\t\tcase 'Int':\n\t\t\tcase 'Float':\n\t\t\tcase 'AWSTimestamp':\n\t\t\t\treturn 'number';\n\t\t\tcase 'AWSJSON':\n\t\t\t\treturn 'object';\n\t\t\tdefault:\n\t\t\t\texhaustiveCheck(scalar as never);\n\t\t}\n\t}\n\n\texport function getValidationFunction(\n\t\tscalar: keyof Omit<\n\t\t\ttypeof GraphQLScalarType,\n\t\t\t'getJSType' | 'getValidationFunction'\n\t\t>\n\t): ((val: string | number) => boolean) | undefined {\n\t\tswitch (scalar) {\n\t\t\tcase 'AWSDate':\n\t\t\t\treturn isAWSDate;\n\t\t\tcase 'AWSTime':\n\t\t\t\treturn isAWSTime;\n\t\t\tcase 'AWSDateTime':\n\t\t\t\treturn isAWSDateTime;\n\t\t\tcase 'AWSTimestamp':\n\t\t\t\treturn isAWSTimestamp;\n\t\t\tcase 'AWSEmail':\n\t\t\t\treturn isAWSEmail;\n\t\t\tcase 'AWSJSON':\n\t\t\t\treturn isAWSJSON;\n\t\t\tcase 'AWSURL':\n\t\t\t\treturn isAWSURL;\n\t\t\tcase 'AWSPhone':\n\t\t\t\treturn isAWSPhone;\n\t\t\tcase 'AWSIPAddress':\n\t\t\t\treturn isAWSIPAddress;\n\t\t\tdefault:\n\t\t\t\treturn undefined;\n\t\t}\n\t}\n}\n\nexport type AuthorizationRule = {\n\tidentityClaim: string;\n\townerField: string;\n\tprovider: 'userPools' | 'oidc' | 'iam' | 'apiKey';\n\tgroupClaim: string;\n\tgroups: [string];\n\tauthStrategy: 'owner' | 'groups' | 'private' | 'public';\n\tareSubscriptionsPublic: boolean;\n};\n\nexport function isGraphQLScalarType(\n\tobj: any\n): obj is keyof Omit<\n\ttypeof GraphQLScalarType,\n\t'getJSType' | 'getValidationFunction'\n> {\n\treturn obj && GraphQLScalarType[obj] !== undefined;\n}\n\nexport type ModelFieldType = { model: string };\nexport function isModelFieldType(obj: any): obj is ModelFieldType {\n\tconst modelField: keyof ModelFieldType = 'model';\n\tif (obj && obj[modelField]) return true;\n\n\treturn false;\n}\n\nexport type NonModelFieldType = { nonModel: string };\nexport function isNonModelFieldType(obj: any): obj is NonModelFieldType {\n\tconst typeField: keyof NonModelFieldType = 'nonModel';\n\tif (obj && obj[typeField]) return true;\n\n\treturn false;\n}\n\ntype EnumFieldType = { enum: string };\nexport function isEnumFieldType(obj: any): obj is EnumFieldType {\n\tconst modelField: keyof EnumFieldType = 'enum';\n\tif (obj && obj[modelField]) return true;\n\n\treturn false;\n}\n\nexport type ModelField = {\n\tname: string;\n\ttype:\n\t\t| keyof Omit<\n\t\t\t\ttypeof GraphQLScalarType,\n\t\t\t\t'getJSType' | 'getValidationFunction'\n\t\t  >\n\t\t| ModelFieldType\n\t\t| NonModelFieldType\n\t\t| EnumFieldType;\n\tisArray: boolean;\n\tisRequired?: boolean;\n\tisReadOnly?: boolean;\n\tisArrayNullable?: boolean;\n\tassociation?: ModelAssociation;\n\tattributes?: ModelAttributes[];\n};\n//#endregion\n\n//#region Model definition\nexport type NonModelTypeConstructor<T> = {\n\tnew (init: T): T;\n};\n\n// Class for model\nexport type PersistentModelConstructor<\n\tT extends PersistentModel,\n\tK extends PersistentModelMetaData = {\n\t\treadOnlyFields: 'createdAt' | 'updatedAt';\n\t}\n> = {\n\tnew (init: ModelInit<T, K>): T;\n\tcopyOf(src: T, mutator: (draft: MutableModel<T, K>) => void): T;\n};\n\nexport type TypeConstructorMap = Record<\n\tstring,\n\tPersistentModelConstructor<any> | NonModelTypeConstructor<any>\n>;\n\n// Instance of model\nexport type PersistentModelMetaData = {\n\treadOnlyFields: string;\n};\n\nexport type PersistentModel = Readonly<{ id: string } & Record<string, any>>;\nexport type ModelInit<\n\tT,\n\tK extends PersistentModelMetaData = {\n\t\treadOnlyFields: 'createdAt' | 'updatedAt';\n\t}\n> = Omit<T, 'id' | K['readOnlyFields']>;\ntype DeepWritable<T> = {\n\t-readonly [P in keyof T]: T[P] extends TypeName<T[P]>\n\t\t? T[P]\n\t\t: DeepWritable<T[P]>;\n};\n\nexport type MutableModel<\n\tT extends Record<string, any>,\n\tK extends PersistentModelMetaData = {\n\t\treadOnlyFields: 'createdAt' | 'updatedAt';\n\t}\n\t// This provides Intellisense with ALL of the properties, regardless of read-only\n\t// but will throw a linting error if trying to overwrite a read-only property\n> = DeepWritable<Omit<T, 'id' | K['readOnlyFields']>> &\n\tReadonly<Pick<T, 'id' | K['readOnlyFields']>>;\n\nexport type ModelInstanceMetadata = {\n\tid: string;\n\t_version: number;\n\t_lastChangedAt: number;\n\t_deleted: boolean;\n};\n\n//#endregion\n\n//#region Subscription messages\nexport enum OpType {\n\tINSERT = 'INSERT',\n\tUPDATE = 'UPDATE',\n\tDELETE = 'DELETE',\n}\n\nexport type SubscriptionMessage<T extends PersistentModel> = {\n\topType: OpType;\n\telement: T;\n\tmodel: PersistentModelConstructor<T>;\n\tcondition: PredicatesGroup<T> | null;\n};\n\nexport type DataStoreSnapshot<T extends PersistentModel> = {\n\titems: T[];\n\tisSynced: boolean;\n};\n//#endregion\n\n//#region Predicates\n\nexport type PredicateExpression<M extends PersistentModel, FT> = TypeName<\n\tFT\n> extends keyof MapTypeToOperands<FT>\n\t? (\n\t\t\toperator: keyof MapTypeToOperands<FT>[TypeName<FT>],\n\t\t\t// make the operand type match the type they're trying to filter on\n\t\t\toperand: MapTypeToOperands<FT>[TypeName<FT>][keyof MapTypeToOperands<\n\t\t\t\tFT\n\t\t\t>[TypeName<FT>]]\n\t  ) => ModelPredicate<M>\n\t: never;\n\ntype EqualityOperators<T> = {\n\tne: T;\n\teq: T;\n};\ntype ScalarNumberOperators<T> = EqualityOperators<T> & {\n\tle: T;\n\tlt: T;\n\tge: T;\n\tgt: T;\n};\ntype NumberOperators<T> = ScalarNumberOperators<T> & {\n\tbetween: [T, T];\n};\ntype StringOperators<T> = ScalarNumberOperators<T> & {\n\tbeginsWith: T;\n\tcontains: T;\n\tnotContains: T;\n};\ntype BooleanOperators<T> = EqualityOperators<T>;\ntype ArrayOperators<T> = {\n\tcontains: T;\n\tnotContains: T;\n};\nexport type AllOperators = NumberOperators<any> &\n\tStringOperators<any> &\n\tArrayOperators<any>;\n\ntype MapTypeToOperands<T> = {\n\tnumber: NumberOperators<NonNullable<T>>;\n\tstring: StringOperators<NonNullable<T>>;\n\tboolean: BooleanOperators<NonNullable<T>>;\n\t'number[]': ArrayOperators<number>;\n\t'string[]': ArrayOperators<string>;\n\t'boolean[]': ArrayOperators<boolean>;\n};\n\ntype TypeName<T> = T extends string\n\t? 'string'\n\t: T extends number\n\t? 'number'\n\t: T extends boolean\n\t? 'boolean'\n\t: T extends string[]\n\t? 'string[]'\n\t: T extends number[]\n\t? 'number[]'\n\t: T extends boolean[]\n\t? 'boolean[]'\n\t: never;\n\nexport type PredicateGroups<T extends PersistentModel> = {\n\tand: (\n\t\tpredicate: (predicate: ModelPredicate<T>) => ModelPredicate<T>\n\t) => ModelPredicate<T>;\n\tor: (\n\t\tpredicate: (predicate: ModelPredicate<T>) => ModelPredicate<T>\n\t) => ModelPredicate<T>;\n\tnot: (\n\t\tpredicate: (predicate: ModelPredicate<T>) => ModelPredicate<T>\n\t) => ModelPredicate<T>;\n};\n\nexport type ModelPredicate<M extends PersistentModel> = {\n\t[K in keyof M]-?: PredicateExpression<M, NonNullable<M[K]>>;\n} &\n\tPredicateGroups<M>;\n\nexport type ProducerModelPredicate<M extends PersistentModel> = (\n\tcondition: ModelPredicate<M>\n) => ModelPredicate<M>;\n\nexport type PredicatesGroup<T extends PersistentModel> = {\n\ttype: keyof PredicateGroups<T>;\n\tpredicates: (PredicateObject<T> | PredicatesGroup<T>)[];\n};\n\nexport function isPredicateObj<T extends PersistentModel>(\n\tobj: any\n): obj is PredicateObject<T> {\n\treturn obj && (<PredicateObject<T>>obj).field !== undefined;\n}\n\nexport function isPredicateGroup<T extends PersistentModel>(\n\tobj: any\n): obj is PredicatesGroup<T> {\n\treturn obj && (<PredicatesGroup<T>>obj).type !== undefined;\n}\n\nexport type PredicateObject<T extends PersistentModel> = {\n\tfield: keyof T;\n\toperator: keyof AllOperators;\n\toperand: any;\n};\n\nexport enum QueryOne {\n\tFIRST,\n\tLAST,\n}\nexport type GraphQLField = {\n\t[field: string]: {\n\t\t[operator: string]: string | number | [number, number];\n\t};\n};\n\nexport type GraphQLCondition = Partial<\n\t| GraphQLField\n\t| {\n\t\t\tand: [GraphQLCondition];\n\t\t\tor: [GraphQLCondition];\n\t\t\tnot: GraphQLCondition;\n\t  }\n>;\n\nexport type GraphQLFilter = Partial<\n\t| GraphQLField\n\t| {\n\t\t\tand: GraphQLFilter[];\n\t  }\n\t| {\n\t\t\tor: GraphQLFilter[];\n\t  }\n\t| {\n\t\t\tnot: GraphQLFilter;\n\t  }\n>;\n\n//#endregion\n\n//#region Pagination\n\nexport type ProducerPaginationInput<T extends PersistentModel> = {\n\tsort?: ProducerSortPredicate<T>;\n\tlimit?: number;\n\tpage?: number;\n};\n\nexport type ObserveQueryOptions<T extends PersistentModel> = Pick<\n\tProducerPaginationInput<T>,\n\t'sort'\n>;\n\nexport type PaginationInput<T extends PersistentModel> = {\n\tsort?: SortPredicate<T>;\n\tlimit?: number;\n\tpage?: number;\n};\n\nexport type ProducerSortPredicate<M extends PersistentModel> = (\n\tcondition: SortPredicate<M>\n) => SortPredicate<M>;\n\nexport type SortPredicate<T extends PersistentModel> = {\n\t[K in keyof T]-?: SortPredicateExpression<T, NonNullable<T[K]>>;\n};\n\nexport type SortPredicateExpression<M extends PersistentModel, FT> = TypeName<\n\tFT\n> extends keyof MapTypeToOperands<FT>\n\t? (sortDirection: keyof typeof SortDirection) => SortPredicate<M>\n\t: never;\n\nexport enum SortDirection {\n\tASCENDING = 'ASCENDING',\n\tDESCENDING = 'DESCENDING',\n}\n\nexport type SortPredicatesGroup<\n\tT extends PersistentModel\n> = SortPredicateObject<T>[];\n\nexport type SortPredicateObject<T extends PersistentModel> = {\n\tfield: keyof T;\n\tsortDirection: keyof typeof SortDirection;\n};\n\n//#endregion\n\n//#region System Components\n\nexport type SystemComponent = {\n\tsetUp(\n\t\tschema: InternalSchema,\n\t\tnamespaceResolver: NamespaceResolver,\n\t\tmodelInstanceCreator: ModelInstanceCreator,\n\t\tgetModelConstructorByModelName: (\n\t\t\tnamsespaceName: string,\n\t\t\tmodelName: string\n\t\t) => PersistentModelConstructor<any>,\n\t\tappId: string\n\t): Promise<void>;\n};\n\nexport type NamespaceResolver = (\n\tmodelConstructor: PersistentModelConstructor<any>\n) => string;\n\nexport type ControlMessageType<T> = {\n\ttype: T;\n\tdata?: any;\n};\n\n//#endregion\n\n//#region Relationship types\nexport type RelationType = {\n\tfieldName: string;\n\tmodelName: string;\n\trelationType: 'HAS_ONE' | 'HAS_MANY' | 'BELONGS_TO';\n\ttargetName?: string;\n\tassociatedWith?: string;\n};\n\nexport type RelationshipType = {\n\t[modelName: string]: { indexes: string[]; relationTypes: RelationType[] };\n};\n\n//#endregion\n\n//#region Key type\nexport type KeyType = {\n\tprimaryKey?: string[];\n\tcompositeKeys?: Set<string>[];\n};\n\nexport type ModelKeys = {\n\t[modelName: string]: KeyType;\n};\n\n//#endregion\n\n//#region DataStore config types\nexport type DataStoreConfig = {\n\tDataStore?: {\n\t\tauthModeStrategyType?: AuthModeStrategyType;\n\t\tconflictHandler?: ConflictHandler; // default : retry until client wins up to x times\n\t\terrorHandler?: (error: SyncError) => void; // default : logger.warn\n\t\tmaxRecordsToSync?: number; // merge\n\t\tsyncPageSize?: number;\n\t\tfullSyncInterval?: number;\n\t\tsyncExpressions?: SyncExpression[];\n\t\tauthProviders?: AuthProviders;\n\t\tstorageAdapter?: Adapter;\n\t};\n\tauthModeStrategyType?: AuthModeStrategyType;\n\tconflictHandler?: ConflictHandler; // default : retry until client wins up to x times\n\terrorHandler?: (error: SyncError) => void; // default : logger.warn\n\tmaxRecordsToSync?: number; // merge\n\tsyncPageSize?: number;\n\tfullSyncInterval?: number;\n\tsyncExpressions?: SyncExpression[];\n\tauthProviders?: AuthProviders;\n\tstorageAdapter?: Adapter;\n};\n\nexport type AuthProviders = {\n\tfunctionAuthProvider: () => { token: string } | Promise<{ token: string }>;\n};\n\nexport enum AuthModeStrategyType {\n\tDEFAULT = 'DEFAULT',\n\tMULTI_AUTH = 'MULTI_AUTH',\n}\n\nexport type AuthModeStrategyReturn =\n\t| GRAPHQL_AUTH_MODE\n\t| GRAPHQL_AUTH_MODE[]\n\t| undefined\n\t| null;\n\nexport type AuthModeStrategyParams = {\n\tschema: InternalSchema;\n\tmodelName: string;\n\toperation: ModelOperation;\n};\n\nexport type AuthModeStrategy = (\n\tauthModeStrategyParams: AuthModeStrategyParams\n) => AuthModeStrategyReturn | Promise<AuthModeStrategyReturn>;\n\nexport enum ModelOperation {\n\tCREATE = 'CREATE',\n\tREAD = 'READ',\n\tUPDATE = 'UPDATE',\n\tDELETE = 'DELETE',\n}\n\nexport type ModelAuthModes = Record<\n\tstring,\n\t{\n\t\t[Property in ModelOperation]: GRAPHQL_AUTH_MODE[];\n\t}\n>;\n\nexport type SyncExpression = Promise<{\n\tmodelConstructor: any;\n\tconditionProducer: (c?: any) => any;\n}>;\n\n/*\nAdds Intellisense when passing a function | promise that returns a predicate\nOr just a predicate. E.g.,\n\nsyncExpressions: [\n\tsyncExpression(Post, c => c.rating('gt', 5)),\n\n\tOR\n\n\tsyncExpression(Post, async () => {\n\t\treturn c => c.rating('gt', 5)\n\t}),\n]\n*/\ntype Option0 = [];\ntype Option1<T extends PersistentModel> = [ModelPredicate<T> | undefined];\ntype Option<T extends PersistentModel> = Option0 | Option1<T>;\n\ntype Lookup<T extends PersistentModel> = {\n\t0:\n\t\t| ProducerModelPredicate<T>\n\t\t| Promise<ProducerModelPredicate<T>>\n\t\t| typeof PredicateAll;\n\t1: ModelPredicate<T> | undefined;\n};\n\ntype ConditionProducer<T extends PersistentModel, A extends Option<T>> = (\n\t...args: A\n) => A['length'] extends keyof Lookup<T> ? Lookup<T>[A['length']] : never;\n\nexport async function syncExpression<\n\tT extends PersistentModel,\n\tA extends Option<T>\n>(\n\tmodelConstructor: PersistentModelConstructor<T>,\n\tconditionProducer: ConditionProducer<T, A>\n): Promise<{\n\tmodelConstructor: PersistentModelConstructor<T>;\n\tconditionProducer: ConditionProducer<T, A>;\n}> {\n\treturn {\n\t\tmodelConstructor,\n\t\tconditionProducer,\n\t};\n}\n\nexport type SyncConflict = {\n\tmodelConstructor: PersistentModelConstructor<any>;\n\tlocalModel: PersistentModel;\n\tremoteModel: PersistentModel;\n\toperation: OpType;\n\tattempts: number;\n};\n\nexport type SyncError = {\n\tmessage: string;\n\terrorType: string;\n\terrorInfo: string;\n\tlocalModel: PersistentModel;\n\tremoteModel: PersistentModel;\n\toperation: string;\n};\n\nexport const DISCARD = Symbol('DISCARD');\n\nexport type ConflictHandler = (\n\tconflict: SyncConflict\n) =>\n\t| Promise<PersistentModel | typeof DISCARD>\n\t| PersistentModel\n\t| typeof DISCARD;\nexport type ErrorHandler = (error: SyncError) => void;\n\nexport type DeferredCallbackResolverOptions = {\n\tcallback: () => void;\n\tmaxInterval?: number;\n\terrorHandler?: (error: string) => void;\n};\n\nexport enum LimitTimerRaceResolvedValues {\n\tLIMIT = 'LIMIT',\n\tTIMER = 'TIMER',\n}\n//#endregion\n"]},"metadata":{},"sourceType":"module"}